{"ast":null,"code":"import _regeneratorRuntime from \"/home/bigdeal/myproject/ui-10/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/bigdeal/myproject/ui-10/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/bigdeal/myproject/ui-10/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/bigdeal/myproject/ui-10/src/container/test/TestCard.jsx\";\nimport { TestStart } from '../../template/pages';\nimport React, { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { debounce } from 'throttle-debounce';\nimport { Button, Card, Container, Row, Col } from 'reactstrap';\nvar initialState = [];\n\nvar addAction = data => ({\n  type: 'ADD',\n  payload: data\n});\n\nvar reducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD':\n      return [...state, ...action.payload];\n\n    default:\n      throw new Error();\n  }\n};\n\nvar TestCard = () => {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      testnum = _useState2[0],\n      setTestnum = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tests = _useState4[0],\n      setTests = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var _useState9 = useState(1),\n      _useState10 = _slicedToArray(_useState9, 2),\n      testgen = _useState10[0],\n      setTestgen = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      answer = _useState12[0],\n      setAns = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      correct = _useState14[0],\n      setCorrect = _useState14[1];\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(() => {\n    var fetchTests = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                // 요청이 시작 할 때에는 error 와 tests 를 초기화하고\n                setError(null);\n                setTests(null); // loading 상태를 true 로 바꿉니다.\n\n                setLoading(true);\n                _context.next = 6;\n                return axios.get('http://127.0.0.1:8080/api/legacies');\n\n              case 6:\n                response = _context.sent;\n                setTests(response.data);\n                console.log(response.data); // 데이터는 response.data 안에 들어있습니다.\n\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                setError(_context.t0);\n\n              case 14:\n                setLoading(false);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n\n      return function fetchTests() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchTests();\n  }, []);\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"\\uB85C\\uB529\\uC911..\");\n  if (error) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }\n  }, \"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\");\n  if (!tests) return null;\n\n  var handleClick = () => {\n    if (testnum < 20) {\n      setTestgen(testgen + 1);\n      setTestnum(testnum + 1);\n    } else {\n      alert('테스트가 종료되었습니다.');\n    }\n  };\n\n  var confirm = e => {\n    e.preventDefault();\n\n    var addTodoList = item => {\n      setCorrect(false);\n      dispatch(addAction(item));\n      console.log(state);\n    };\n\n    var myAnswer = '';\n    {\n      document.getElementById(\"customRadio1\").checked && (tests[testgen].ansA === tests[testgen].answer ? myAnswer = tests[testgen].answer : myAnswer = '');\n    }\n    {\n      document.getElementById(\"customRadio2\").checked && (tests[testgen].ansB === tests[testgen].answer ? myAnswer = tests[testgen].answer : myAnswer = '');\n    }\n    {\n      document.getElementById(\"customRadio3\").checked && (tests[testgen].ansC === tests[testgen].answer ? myAnswer = tests[testgen].answer : myAnswer = '');\n    }\n    {\n      document.getElementById(\"customRadio4\").checked && (tests[testgen].ansD === tests[testgen].answer ? myAnswer = tests[testgen].answer : myAnswer = '');\n    }\n    {\n      '' !== myAnswer ? handleClick() : addTodoList(tests[testgen]);\n    }\n  };\n\n  var nextQuestion = () => {\n    handleClick();\n    setCorrect(true);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TestStart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card-profile shadow mt--300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, testnum, \"\\uBC88 \\uBB38\\uC81C\", ' '), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h6 font-weight-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni location_pin mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h6 mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni business_briefcase-24 mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }), tests[testgen].question)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 py-5 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-radio mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-control-input\",\n    id: \"customRadio1\",\n    name: \"custom-radio-1\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customRadio1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, tests[testgen].ansA))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-radio mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-control-input\",\n    defaultChecked: true,\n    id: \"customRadio2\",\n    name: \"custom-radio-1\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customRadio2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, tests[testgen].ansB)))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-radio mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-control-input\",\n    defaultChecked: true,\n    id: \"customRadio3\",\n    name: \"custom-radio-1\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customRadio3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, tests[testgen].ansC))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-radio mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"custom-control-input\",\n    defaultChecked: true,\n    id: \"customRadio4\",\n    name: \"custom-radio-1\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customRadio4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, tests[testgen].ansD))))), !correct && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 26\n    }\n  }, \"\\uB561! \\uC815\\uB2F5\\uC740 \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 38\n    }\n  }, tests[testgen].answer)), !correct ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"float-center btn btn-default btn-lg mt-3\",\n    onClick: nextQuestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, \"\\uB2E4\\uC74C \\uBB38\\uC81C\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"float-center btn btn-default btn-lg mt-3\",\n    onClick: confirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 125\n    }\n  }, \"\\uC815\\uB2F5 \\uC81C\\uCD9C\")))))))));\n};\n\nexport default TestCard;","map":{"version":3,"sources":["/home/bigdeal/myproject/ui-10/src/container/test/TestCard.jsx"],"names":["TestStart","React","useState","useEffect","useReducer","axios","useSelector","useDispatch","debounce","Button","Card","Container","Row","Col","initialState","addAction","data","type","payload","reducer","state","action","Error","TestCard","testnum","setTestnum","tests","setTests","loading","setLoading","error","setError","testgen","setTestgen","answer","setAns","correct","setCorrect","dispatch","fetchTests","get","response","console","log","handleClick","alert","confirm","e","preventDefault","addTodoList","item","myAnswer","document","getElementById","checked","ansA","ansB","ansC","ansD","nextQuestion","question"],"mappings":"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","sourcesContent":["\nimport {TestStart} from '../../template/pages'\nimport React, { useState, useEffect,useReducer } from 'react';\nimport axios from 'axios'\nimport {useSelector, useDispatch} from \"react-redux\";\nimport { debounce } from 'throttle-debounce'\n\nimport { Button, Card, Container, Row, Col } from 'reactstrap';\nconst initialState =[]\nconst addAction= data =>({type:'ADD',payload: data})\nconst reducer=(state, action)=>{\n  switch(action.type){\n    case 'ADD':\n      return [...state, ...action.payload]\n    default:\n      throw new Error();\n  }\n}\n\nconst TestCard =()=> {\n \n  \n    const [testnum, setTestnum] = useState(1)\n    const [tests, setTests] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [testgen, setTestgen] = useState(1)\n    const [answer , setAns] = useState(null)\n    const [correct , setCorrect] = useState(true)\n    const [state, dispatch] = useReducer(reducer, initialState)\n    \n    useEffect(() => {\n      const fetchTests = async () => {\n        try {\n          // 요청이 시작 할 때에는 error 와 tests 를 초기화하고\n          setError(null);\n          setTests(null);\n          // loading 상태를 true 로 바꿉니다.\n          setLoading(true);\n          const response = await axios.get(\n            'http://127.0.0.1:8080/api/legacies'\n          );\n          setTests(response.data);\n          console.log(response.data) // 데이터는 response.data 안에 들어있습니다.\n        } catch (e) {\n          setError(e);\n        }\n        setLoading(false);\n      };\n  \n      fetchTests();\n    }, []);\n    if (loading) return <div>로딩중..</div>;\n    if (error) return <div>에러가 발생했습니다</div>;\n    if (!tests) return null;\n    \n  \n      const handleClick = () => {\n        if (testnum < 20) {\n          setTestgen(testgen + 1)\n          setTestnum(testnum + 1)\n        } \n        else {\n          alert('테스트가 종료되었습니다.')\n        } \n    }\n    \n   \n    const confirm =(e) =>{\n      e.preventDefault();\n      const addTodoList =(item) =>{\n        setCorrect(false)\n        dispatch(addAction(item))\n        console.log(state)\n      }\n      \n      let myAnswer=''\n      {document.getElementById(\"customRadio1\").checked && (tests[testgen].ansA===tests[testgen].answer ? myAnswer = tests[testgen].answer: myAnswer='')}\n      {document.getElementById(\"customRadio2\").checked && (tests[testgen].ansB===tests[testgen].answer ? myAnswer = tests[testgen].answer: myAnswer='')}\n      {document.getElementById(\"customRadio3\").checked && (tests[testgen].ansC===tests[testgen].answer ? myAnswer = tests[testgen].answer: myAnswer='')}\n      {document.getElementById(\"customRadio4\").checked && (tests[testgen].ansD===tests[testgen].answer ? myAnswer = tests[testgen].answer: myAnswer='')}\n      \n      {'' !== myAnswer ? handleClick(): addTodoList(tests[testgen])}\n      \n  \n    }\n    const nextQuestion =()=>{\n      handleClick()\n      setCorrect(true)  \n\n    }\n\n    return<>\n    <TestStart>\n    <Container>\n              <Card className=\"card-profile shadow mt--300\">\n                <div className=\"px-4\">\n                  <div className=\"text-center mt-5\">\n                    <h3>\n                      {testnum}번 문제{' '}\n                    </h3>\n                    <div className=\"h6 font-weight-300\">\n                      <i className=\"ni location_pin mr-2\" />\n                    </div>\n                    <div className=\"h6 mt-4\">\n                      <i className=\"ni business_briefcase-24 mr-2\" />\n                        {tests.[testgen].question}\n                    </div>\n                  </div>\n                  <div className=\"mt-5 py-5 text-center\">\n                    <Row className=\"justify-content-center\">\n                      <Col lg=\"9\">\n                        <div className=\"mb-3\">\n              {/* <small className=\"text-uppercase font-weight-bold\">정답</small> */}\n            </div>\n            <div className=\"row-grid\">\n            <Row className=\"justify-content-around\">\n            <div className=\"custom-control custom-radio mb-3\">\n              <input\n                className=\"custom-control-input\"\n                id=\"customRadio1\"\n                name=\"custom-radio-1\"\n                type=\"radio\"\n                \n              />\n              <label className=\"custom-control-label\" htmlFor=\"customRadio1\">\n                <span>{tests[testgen].ansA}</span>\n              </label>\n            </div>\n            <div className=\"custom-control custom-radio mb-3\">\n              <input\n                className=\"custom-control-input\"\n                defaultChecked\n                id=\"customRadio2\"\n                name=\"custom-radio-1\"\n                type=\"radio\"\n                \n              />\n              <label className=\"custom-control-label\" htmlFor=\"customRadio2\">\n                <span>{tests[testgen].ansB}</span>\n              </label>\n            </div>\n            </Row>\n            <Row className=\"justify-content-around\">\n            <div className=\"custom-control custom-radio mb-3\">\n              <input\n                className=\"custom-control-input\"\n                defaultChecked\n                id=\"customRadio3\"\n                name=\"custom-radio-1\"\n                type=\"radio\"\n                \n              />\n              <label className=\"custom-control-label\" htmlFor=\"customRadio3\">\n                <span>{tests[testgen].ansC}</span>\n              </label>\n            </div>\n            <div className=\"custom-control custom-radio mb-3\">\n              <input\n                className=\"custom-control-input\"\n                defaultChecked\n                id=\"customRadio4\"\n                name=\"custom-radio-1\"\n                type=\"radio\"\n                \n              />\n              <label className=\"custom-control-label\" htmlFor=\"customRadio4\">\n                <span>{tests[testgen].ansD}</span>\n              </label>\n            </div>\n            </Row>\n            </div>\n            {!correct && <div>땡! 정답은 <span>{tests[testgen].answer}</span></div>}\n            {!correct ? <button className=\"float-center btn btn-default btn-lg mt-3\" onClick={nextQuestion}>다음 문제</button> :<button className=\"float-center btn btn-default btn-lg mt-3\" onClick={confirm}>정답 제출</button>}\n                      </Col>\n                    </Row>\n                  </div>\n                </div>\n              </Card>\n              \n            </Container>\n            </TestStart>\n            </>\n}\nexport default TestCard"]},"metadata":{},"sourceType":"module"}